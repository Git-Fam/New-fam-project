@use "../global" as *;

/* -----------------------
  comeback-board
----------------------- */


.comeback-board {
  @include height;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  background: linear-gradient(180deg, #FFF 0%, #84C2DD 100%);
  z-index: 101;
  overflow-y: scroll;

  @include pc {
    min-height: pm(700, 700);
  }

  @include sp {

    @media screen and (max-width: 767px) and (min-width: 550px) {
      min-height: 900px;
    }
  }

  &.none {
    display: none;
  }

  .board-close {
    position: absolute;
    aspect-ratio: 1/1;
    background: #000;
    border-radius: 50%;
    cursor: pointer;
    z-index: 50;

    @include pc {
      width: p(30);
      top: p(20);
      right: p(20);
    }

    @include sp {
      width: s(20);
      top: s(10);
      right: s(10);
    }

    span {
      position: absolute;
      top: 50%;
      left: 50%;
      translate: -50% -50%;
      width: 60%;
      background-color: #fff;

      @include pc {
        height: p(4);
      }

      @include sp {
        height: s(2);
      }

      &:nth-child(1) {
        rotate: 40deg;
      }

      &:nth-child(2) {
        rotate: -40deg;
      }
    }
  }

  &__bg {

    .curtain__item {
      position: absolute;

      &.curtain-01 {
        @include imgContain("log-board/comeback-board-curtain_top.png");
        background-position: center top;
        z-index: 2;
        width: 100%;

        @include pc {
          top: 0;
          height: p(160);
        }

        @include sp {
          top: 0;
          height: s(80);
        }
      }

      &.curtain-02,
      &.curtain-03 {
        @include imgCover("log-board/comeback-board-curtain_side.png");
        position: absolute;
        z-index: 1;
        aspect-ratio: 380/900;
        top: 0;
        left: 0;

        @include pc {
          height: 100%;
          background-size: 100% 100%;
        }

        @include sp {
          height: 100%;
          background-size: 20% 100%;
          background-position: left;
        }
      }

      &.curtain-03 {
        left: unset;
        right: 0;
        scale: -1 1;
      }
    }

    .cracker__item {
      @include imgContain("log-board/comeback-board-cracker.png");
      position: absolute;
      top: 0;
      z-index: 3;
      aspect-ratio: 470/437;

      @include pc {
        width: p(470);
      }

      @include sp {
        width: s(150);
      }

      &.cracker-01 {
        left: 0;
      }

      &.cracker-02 {
        left: unset;
        right: 0;
        scale: -1 1;
      }
    }
  }

  &__container {
    position: relative;
    top: 50%;
    left: 50%;
    translate: -50% -50%;
    z-index: 5;

    @include pc {
      padding: p(50) 0 ;
      width: p(1000);
    }

    @include sp {
      width: s(350);
    }

    .container__characters {

      .characters {
        position: absolute;
        aspect-ratio: 320/365;
        z-index: 1;

        @include pc {
          width: p(260);
          top: p(40);
        }

        @include sp {
          width: s(120);
          top: p(100);
        }

        &.character_01 {
          @include imgContain("log-board/comeback-board-character_01.png");

          @include pc {
            left: p(-50);
          }

          @include sp {
            left: s(-40);
          }
        }

        &.character_02 {
          @include imgContain("log-board/comeback-board-character_02.png");

          @include pc {
            right: p(-50);
          }

          @include sp {
            right: s(-30);
          }
        }
      }
    }

    .container__title {
      position: relative;
      z-index: 2;

      .TL {
        aspect-ratio: 771/154;
        margin: 0 auto;

        @include pc {
          width: p(571);
        }

        @include sp {
          width: s(300);
        }

        img {
          width: 100%;
          height: 100%;
          object-fit: contain;
          object-position: center;
        }
      }
    }

    .container__text {
      margin: 0 auto;
      position: relative;
      z-index: 2;

      @include pc {
        margin-top: p(5);
        width: p(480);
      }

      @include sp {
        margin-top: s(10);
        width: s(200);
      }

      .TX {
        color: #6D6D6D;
        @include wt500;
        line-height: 1.6;

        @include pc {
          font-size: p(16);
        }

        @include sp {
          font-size: s(12);
        }
      }
    }

    .container__content {
      position: relative;
      z-index: 2;
      border-radius: 10px;
      background: #FFF;
      box-shadow: 0px 15px 4px 0px rgba(0, 0, 0, 0.25);

      @include pc {
        margin-top: p(22);
        width: 100%;
        padding: p(36) 0 p(35);
      }

      @include sp {
        margin-top: s(15);
        width: 100%;
        padding: s(10) s(10) s(10) s(10);
      }

      &__inner {
        display: flex;
        justify-content: center;

        @include pc {
          gap: p(40);
        }

        @include sp {
          gap: s(20);
        }

        .content__sentence {
          display: flex;
          flex-direction: column;
          justify-content: space-between;

          @include pc {
            gap: p(20);
          }

          @include sp {
            gap: s(20);
          }

          .sentence__title {
            .TX {
              color: #9D8C50;
              @include wt700;
              line-height: 1.3;
              text-align: center;

              @include pc {
                letter-spacing: p(1.367);
                font-size: p(20);
              }
              
              @include sp {
                font-size: s(12);
              }
            }
          }

          .sentence__stamp {
            display: flex;
            align-items: center;
            margin: 0 auto;

            @include pc {
              width: p(350);
              gap: p(42);
            }

            @include sp {
              width: s(130);
              gap: s(10);
            }

            .stamp__item {
              aspect-ratio: 1/1;
              border-radius: 50%;
              @include iconContain($dot-circle);

              @include pc {
                width: calc(100% / 3 - (p(42) * 2 / 3));
              }

              @include sp {
                width: calc(100% / 3 - (s(10) * 2 / 3));
              }

              &.stamp-clear {
                background-image: unset;
                border: solid #D3BE74;
                position: relative;

                @include pc {
                  border-width: p(5);
                }

                @include sp {
                  border-width: s(3);
                }

                &::before {
                  content: "達成";
                  aspect-ratio: 70/51;
                  position: absolute;
                  top: 50%;
                  left: 50%;
                  translate: -50% -50%;
                  width: 100%;
                  @include iconContain($dog-trace);
                  rotate: -17deg;
                  @include center;
                  color: #9D8C50;
                  @include wt700;

                  @include pc {
                    font-size: p(28);
                    letter-spacing: p(3.177);
                  }

                  @include sp {
                    font-size: s(12);
                  }
                }
              }
            }
          }

          .sentence__remainder {
            .days {
              display: flex;
              align-items: flex-end;
              justify-content: flex-end;

              .TX {
                color: #9D8C50;
                @include wt900;
                line-height: 1;

                @include pc {
                  letter-spacing: p(1.367);
                  font-size: p(20);
                }

                @include sp {
                  font-size: s(13);
                }

                span {
                  color: #A4D0E4;
                  @include wt900;
                  line-height: 1;

                  @include pc {
                    font-size: p(60);
                    letter-spacing: p(4.8);
                  }

                  @include sp {
                    font-size: s(30);
                    letter-spacing: s(2.4);
                  }
                }
              }

              .seal {
                aspect-ratio: 136/55;
                @include iconContain($days-seal);

                @include pc {
                  width: p(70);
                  margin-bottom: p(4);
                }

                @include sp {
                  width: s(40);
                  margin-bottom: s(2);
                }
              }
            }
          }
        }

        .content__item {
          border-radius: 10px;
          border: 6px solid #D3BE74;
          background: #FAF2D4;
          aspect-ratio: 450/231;
          position: relative;

          @include pc {
            width: p(400);
          }

          @include sp{
            width: s(300);
          }

          .item__body {
            aspect-ratio: 1/1;
            background-color: #00000076;
            border-radius: 50%;
            width: 40%;
            position: absolute;
            top: 50%;
            left: 50%;
            translate: -50% -50%;
          }
        }
      }
    }
  }
}