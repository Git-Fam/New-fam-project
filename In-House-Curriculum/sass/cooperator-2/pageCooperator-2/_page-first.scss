@use "../../global" as *;
@use "../globalCooperator-2" as *;

/* -----------------------
  はじめに
----------------------- */

@function pclamp-menu-btn($size, $minSize: ($size * 1 / 4), $maxSize: ($size * 2 / 4), $viewport: $screenSizePC) {
  $rate: calc(100 / $viewport);
  $calculatedSize: $rate * $size * 1vw;
  @return clamp(#{$minSize}px, #{$calculatedSize}, #{$maxSize}px);
}

.first {
  @include imgCover("first-bg.jpg");
  width: 100%;
  position: relative;

  @include pc {
    height: max(100vh, 700px);
  }

  @include sp {
    height: max(100vh, s(700));
  }

  &-inner {
    .first-content {
      position: absolute;
      top: 50%;

      @include pc {
        transform: translate(-50%, -50%);
        left: 50%;
        padding-inline: pmi(119) pmi(13);
      }

      @include sp {
        transform: translateY(-50%);
        right: 0;
      }

      .book-bg {
        position: relative;

        @include pc {
          @include imgContain("book.png");
          width: pmi(1148);
          aspect-ratio: 1148 / 676;
        }

        @include sp {
          @include imgContain("book-sp.png");
          width: s(378);
          aspect-ratio: 378 / 581;
        }

        .book-tag {
          position: absolute;
          display: flex;
          flex-direction: column;

          @include pc {
            gap: pmi(5);
            left: -9.2%;
            top: pmi(39);
          }

          @include sp {
            flex-direction: row;
            flex-wrap: wrap-reverse;
            justify-content: center;
            gap: s(2);
            left: s(20);
            top: s(-30);
            width: 55%;
          }

          .page--first--tags {
            &:nth-child(-n+3) {
              @include sp {
                transform: translateY(-40%);
              }
            }
          }
        }

        .book--contents--wrapper {
          height: 100%;

          .book--contents {
            height: 100%;
            display: none;

            @include pc {
              padding: pmi(60) pmi(60);
            }

            @include sp {
              width: 88%;
              padding: s(40) s(20);
            }

            &.active {
              display: block;
            }

            &__inner {
              height: 100%;

              @include pc {
                display: flex;
                column-gap: pmi(100);
              }

              @include sp {
                height: 100%;
                overflow-y: scroll;
              }

              &.book--contents__inner__page {
                display: none;

                &.active {

                  @include pc{
                    display: flex;
                  }
                  
                  @include sp{
                    display: block;
                  }
                }
              }

              .book--contents__page {

                @include pc {
                  width: calc(50% - (pmi(100) * 1/2));
                  height: 100%;
                  overflow-y: scroll;
                }
              }
            }


            .book--contents--nation__btn {
              display: flex;
              justify-content: space-between;
              align-items: center;
              position: absolute;
              left: 0;
              
              @include pc {
                bottom: pmi(30);
                padding-inline: pmi(60);
                width: 100%;
              }

              @include sp {
                bottom: s(20);
                padding-inline: s(20);
                width: 88%;
              }

              .TX {
                color: #6B960E;
                cursor: pointer;
                @include wt600;
                line-height: 1.5;

                @include pc {
                  font-size: pmi(16);
                  letter-spacing: pmi(0.8);

                }

                @include sp {
                  font-size: s(12);
                  letter-spacing: s(0.8);
                }

                &.active {
                  opacity: 0;
                  pointer-events: none;
                }
              }
            }
          }
        }
      }
    }

    .first-all-menu-btn {
      position: absolute;

      @include pc {
        bottom: pmi(20);
        left: pmi(20);
      }

      @include sp {
        top: s(10);
        right: s(10);
      }

      .C_all-menu-btn {
        
        @include pc {
          padding: pclamp-menu-btn(13) pclamp-menu-btn(28) pclamp-menu-btn(17) pclamp-menu-btn(14);
          border-width: pclamp-menu-btn(3.314);
        }

        &__inner {
          display: flex;

          @include pc {
            align-items: flex-end;
            gap: pclamp-menu-btn(9);
          }

          @include sp {
            align-items: center;
            gap: s(3);
          }

          &__img {
            @include iconContain($all-menu-character);
            transition: background-image 0.3s ease-in-out;

            @include pc {
              width: pclamp-menu-btn(113);
              height: pclamp-menu-btn(87);
            }

            @include sp {
              width: s(20);
              height: s(17);
            }
          }

          &__text {

            .TX {
              color: #FFF;
              @include wt600;
              line-height: 1.5;

              @include pc {
                font-size: pclamp-menu-btn(53.028);
                letter-spacing: pclamp-menu-btn(2.651);
              }

              @include sp {
                font-size: s(12);
                letter-spacing: s(1);
              }
            }
          }
        }

        &:hover {
          box-shadow: unset;
          transform: translate(3.314px, 3.314px);

          .C_all-menu-btn__inner {

            &__img {
              @include iconContain($all-menu-character-ver2);
            }
          }
        }
      }
    }
  }
}